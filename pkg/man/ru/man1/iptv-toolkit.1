.TH "iptv-toolkit" 1 "04 Jun 2025" "1.0" "User Commands"

.SH NAME
iptv-toolkit - быстрая и удобная работа с IPTV

.SH SYNOPSIS
iptv-toolkit [-a URL][-e FILE|URL][-E DIR][-p FILE|URL][-P DIR][-u URL_PATH][-f URL_PATH][-F DIR][-w PORT][-c CRONTAB][-d][-t][-U][-F][-S][-H]

.SH DESCRIPTION
iptv-toolkit позволяет загружать плейлисты и программы передач по расписанию, конвертировать их в несколько различных форматов.
Имеет встроенную поддержку udp-to-http и небольшой файловый сервер для загрузки обработанных файлов.
Сервис представляет собой всего 1 бинарный файл.
Все это делает работу с IPTV удобной и быстрой.

.SH OPTIONS
.TP
.B -a\fR [URL]
Адрес по которому будет доступен сервис.
.TP
.B -e\fR [FILE|URL]
Местоположение программы передач.
Может быть как локальным, так и удаленным.
Для удаленного местоположения поддерживаются протоколы \fBhttp\fR и \fBhttps\fR.
.TP
.B -E\fR [DIR]
Каталог, в котором будут размещены телепрограммы.
.TP
.B -p\fR [FILE|URL]
Расположение плейлиста.
Может быть как локальным, так и удаленным.
Для удаленного расположения поддерживаются протоколы \fBhttp\fR и \fBhttps\fR.
.TP
.B -P\fR [DIR]
Каталог в который будут помещаться плейлисты.
.TP
.B -f\fR [URL_PATH]
URL путь файлового сервера (по умолчанию: \fI/files\fR).
.TP
.B -u\fR [URL_PATH]
URL путь udpxy (по умолчанию: \fI/udp\fR).
.TP
.B -W\fR [DIR]
Расположение файлов на хосте для веб-сервера (по умолчанию: \fI./files\fR).
.TP
.B -w\fR [PORT]
Порт прослушиваемый сервисом (по умолчанию: 4022).
.TP
.B -c\fR [CRONTAB]
Расписание обновления файлов в формате crontab (по умолчанию: 30 6 * * *).
.TP
.B -d
Создать дополнительный плейлист, в котором ссылки на http-поток, указывают на данный сервис.
Обычно это полезно, когда у клиента нет функциональности для доступа к udpxy.
Для правильной генерации ссылок, необходимо установить ключ \fB-a\fR или переменную \fBIPTVTOOLKIT_ADDRESS\fR.
.TP
.B -t
Добавить программу передач в плейлист.
Это действие приведет к добавлению в файлы m3u дерективы \fBurl-tvg\fR, указывающий на URL адрес программы передач.
Для правильной работы данной функции, необходимо установить ключ \fB-a\fR или переменную \fBIPTVTOOLKIT_ADDRESS\fR.
.TP
.B -U
Включить udp-to-http. Конечная точка будет доступна по URL пути: \fB/udp/<мультикаст_группа:порт>\fR.
.TP
.B -F
Включить файловый сервер.
.TP
.B -S
Включить планировщик.
.TP
.B -H
Включить конечную точку проверки здоровья.

.SH ENVIRONMENT
.TP
.B IPTVTOOLKIT_ADDRESS
Адрес по которому будет доступен сервис (пример: \fIhttp://localhost.local:4022\fR).
.TP
.B IPTVTOOLKIT_EPG
Местоположение программы передач.
Может быть как локальным, так и удаленным.
Для удаленного местоположения поддерживаются протоколы \fBhttp\fR и \fBhttps\fR (пример: \fIhttps://example.com/tvguide.zip\fR).
.TP
.B IPTVTOOLKIT_EPG_DIR
Каталог, в котором будут размещены телепрограммы (пример: \fI./files/tvguide\fR).
.TP
.B IPTVTOOLKIT_PLAYLIST
Расположение плейлиста.
Может быть как локальным, так и удаленным.
Для удаленного расположения поддерживаются протоколы \fBhttp\fR и \fBhttps\fR (пример: \fIhttps://example.com/playlist.m3u\fR).
.TP
.B IPTVTOOLKIT_PLAYLIST_DIR
Каталог в который будут помещаться плейлисты (пример: \fI./files/playlist\fR).
.TP
.B IPTVTOOLKIT_EMBED_EPG
Добавить программу передач в плейлист.
Это действие приведет к добавлению в файлы m3u дерективы \fBurl-tvg\fR, указывающий на URL адрес программы передач.
Для правильной генерации ссылок, необходимо установить ключ \fB-a\fR или переменную \fBIPTVTOOLKIT_ADDRESS\fR (пример: true).
.TP
.B IPTVTOOLKIT_EMBED_UDPXY
Создать дополнительный плейлист, в котором ссылки на http-поток, указывают на данный сервис.
Обычно это полезно, когда у клиента нет функциональности для доступа к udpxy.
Для правильной работы данной функции, необходимо установить ключ \fB-a\fR или переменную \fBIPTVTOOLKIT_ADDRESS\fR (пример: true).
.TP
.B IPTVTOOLKIT_WEB_PATH_FILES
URL путь файлового сервера (пример: \fI/files\fR).
.TP
.B IPTVTOOLKIT_WEB_PATH_UDXPY
URL путь udpxy (пример: \fI/udp\fR).
.TP
.B IPTVTOOLKIT_WEB_DIR
Расположение файлов на хосте для веб-сервера (пример: \fI./files\fR).
.TP
.B IPTVTOOLKIT_WEB_PORT
Порт прослушиваемый сервисом (пример: 4022).
.TP
.B IPTVTOOLKIT_CRONTAB
Расписание обновления файлов в формате crontab (пример: 30 6 * * *).

.SH FILES
.TP
.I /usr/bin/iptv-toolkit
Расположение исполняемого файла.
.TP
.I /var/www/iptv-toolkit/files
Корневой каталог для отображения обработанных файлов файловым сервером.

.SH NOTES
.nf
Ключи CLI, имеют приоритет над переменными окружения.
Обычно нет необходимости устанавливать ключи CLI, за исключением следующих: \fB-e\fR, \fB-p\fR, \fB-U\fR, \fB-F\fR, \fB-S\fR, \fB-H\fR.
Сервис запущенный в изолированной среде docker, имеет уже установленные следующие ключи: \fB-U\fR, \fB-F\fR, \fB-S\fR.
Если сервис запускается в \fBdocker\fR то через директиву \fBcommand\fR, можно переустановить аргументы запуска.

.SH AUTHOR
Maxim Voynov (maximm.14@yandex.ru)
